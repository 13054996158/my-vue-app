<template>
  <div class="component-list">
    <div class="list-group">
      <div class="list-title"><span class="group-icon">ğŸ§©</span> åŸºç¡€ç»„ä»¶</div>
      <div
        v-for="item in baseComponents"
        :key="item.type"
        class="component-item"
        draggable
        @dragstart="onDragStart(item, $event)"
      >
        <span class="item-icon">{{ item.icon }}</span>
        <span>{{ item.label }}</span>
      </div>
    </div>
    <div class="list-group">
      <div class="list-title"><span class="group-icon">âš¡</span> é«˜çº§ç»„ä»¶</div>
      <div
        v-for="item in advancedComponents"
        :key="item.type"
        class="component-item advanced"
        draggable
        @dragstart="onDragStart(item, $event)"
      >
        <span class="item-icon">{{ item.icon }}</span>
        <span>{{ item.label }}</span>
      </div>
    </div>
    <div class="list-group">
      <div class="list-title"><span class="group-icon">ğŸ“¦</span> å¸ƒå±€å®¹å™¨</div>
      <div
        class="component-item"
        draggable
        @dragstart="onDragStart(groupComponent, $event)"
      >
        <span class="item-icon">ğŸ“¦</span>
        <span>åˆ†ç»„å®¹å™¨</span>
      </div>
    </div>
  </div>
</template>

<script setup>
import { ref } from 'vue'
const baseComponents = ref([
  { type: 'input', label: 'è¾“å…¥æ¡†', icon: 'ğŸ“' },
  { type: 'button', label: 'æŒ‰é’®', icon: 'ğŸ”˜' },
])
const advancedComponents = ref([
  { type: 'select', label: 'ä¸‹æ‹‰æ¡†', icon: 'â¬‡ï¸' },
  { type: 'date', label: 'æ—¥æœŸé€‰æ‹©', icon: 'ğŸ“…' },
])
const groupComponent = { type: 'group', label: 'åˆ†ç»„å®¹å™¨', icon: 'ğŸ“¦' }
function onDragStart(item, event) {
  event.dataTransfer.effectAllowed = 'copy'
  event.dataTransfer.setData('component', JSON.stringify(item))
}
</script>

<style>
.component-list {
  padding: 0 16px;
}
.list-group {
  margin-bottom: 32px;
}
.list-title {
  color: #8fa4c8;
  font-size: 15px;
  font-weight: 600;
  margin-bottom: 18px;
  letter-spacing: 1px;
  display: flex;
  align-items: center;
  gap: 6px;
}
.group-icon {
  font-size: 18px;
}
.component-item {
  background: #23272e;
  color: #fff;
  margin-bottom: 16px;
  padding: 12px 0 12px 8px;
  border-radius: 6px;
  cursor: grab;
  text-align: left;
  font-size: 16px;
  display: flex;
  align-items: center;
  gap: 10px;
  transition: background 0.2s, color 0.2s, box-shadow 0.2s;
  border: 1px solid transparent;
  box-shadow: none;
}
.component-item:hover {
  background: #1677ff;
  color: #fff;
  border: 1px solid #1677ff;
  box-shadow: 0 2px 8px 0 rgba(22,119,255,0.12);
  z-index: 2;
}
.component-item.advanced {
  background: #23272e;
  color: #ffd666;
}
.component-item.advanced:hover {
  background: #faad14;
  color: #23272e;
  border: 1px solid #faad14;
}
.item-icon {
  font-size: 18px;
  width: 24px;
  text-align: center;
}
</style> 